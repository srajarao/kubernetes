.TH ENVIRONMENT_VARIABLES 7 "October 31, 2025" "Cluster Management" "Miscellaneous"
.SH NAME
environment_variables \- Cluster Management Environment Variables
.SH DESCRIPTION
Comprehensive list of environment variables used throughout the Cluster Management system. These variables control application behavior, deployment settings, and system configuration.
.SH APPLICATION VARIABLES
.TP
.B ENABLE_HTTPS
Enable HTTPS mode with SSL/TLS encryption
.RS
Type: Boolean (true/false)
Default: false
Used by: bootstrap_app.py
.RE
.TP
.B HTTPS_PORT
Port number for HTTPS server
.RS
Type: Integer
Default: 8443
Range: 1024-65535
Used by: bootstrap_app.py, start_https.sh
.RE
.TP
.B HTTP_PORT
Port number for HTTP server (when HTTPS disabled)
.RS
Type: Integer
Default: 8000
Range: 1024-65535
Used by: bootstrap_app.py
.RE
.TP
.B JWT_SECRET_KEY
Secret key for JWT token generation and validation
.RS
Type: String
Default: Auto-generated random string
Security: Must be kept secret
Used by: bootstrap_app.py
.RE
.TP
.B ACCESS_TOKEN_EXPIRE_MINUTES
JWT token expiration time in minutes
.RS
Type: Integer
Default: 30
Range: 5-1440 (24 hours)
Used by: bootstrap_app.py
.RE
.SH KUBERNETES VARIABLES
.TP
.B KUBECONFIG
Path to Kubernetes configuration file
.RS
Type: File path
Default: ~/.kube/config
Used by: kubectl, helm, k3s scripts
.RE
.TP
.B K3S_URL
K3s server URL for agent node registration
.RS
Type: URL
Format: https://IP:6443
Auto-configured by agent scripts
.RE
.TP
.B K3S_TOKEN
K3s cluster authentication token
.RS
Type: String
Generated by server, used by agents
Security: Must be kept secret
.RE
.TP
.B K3S_NODE_NAME
Unique identifier for K3s cluster node
.RS
Type: String
Default: Auto-generated from hostname
Used by: k3s-agent-scripts
.RE
.SH DOCKER VARIABLES
.TP
.B DOCKER_REGISTRY
Private Docker registry URL
.RS
Type: URL
Format: registry.example.com:5000
Used by: update-docker-registry.sh
.RE
.TP
.B DOCKER_USERNAME
Docker registry authentication username
.RS
Type: String
Used by: nvcr_login.sh, update-docker-registry.sh
.RE
.TP
.B DOCKER_PASSWORD
Docker registry authentication password/token
.RS
Type: String
Security: Must be kept secret
Used by: nvcr_login.sh, update-docker-registry.sh
.RE
.SH NVIDIA VARIABLES
.TP
.B NVIDIA_VISIBLE_DEVICES
GPU devices visible to containerized applications
.RS
Type: String
Format: GPU-uuid or all
Default: all
Used by: GPU workloads
.RE
.TP
.B NVIDIA_DRIVER_CAPABILITIES
NVIDIA driver capabilities to expose
.RS
Type: String
Default: compute,utility,video
Used by: GPU containers
.RE
.TP
.B NGC_API_KEY
NVIDIA GPU Cloud API key
.RS
Type: String
Security: Must be kept secret
Used by: nvcr_login.sh
.RE
.SH NETWORK VARIABLES
.TP
.B CLUSTER_SUBNET
Kubernetes cluster pod subnet
.RS
Type: CIDR
Default: 10.42.0.0/16
Used by: k3s-server.sh
.RE
.TP
.B SERVICE_SUBNET
Kubernetes service subnet
.RS
Type: CIDR
Default: 10.43.0.0/16
Used by: k3s-server.sh
.RE
.TP
.B CLUSTER_DNS
Cluster DNS server IP
.RS
Type: IP Address
Default: 10.43.0.10
Used by: k3s-server.sh
.RE
.TP
.B NFS_SERVER
NFS server hostname or IP address
.RS
Type: String/IP
Used by: update-nfs-*.sh scripts
.RE
.TP
.B NFS_EXPORT_PATH
NFS export path on server
.RS
Type: File path
Default: /srv/nfs/kubedata
Used by: update-nfs-exports.sh
.RE
.SH DATABASE VARIABLES
.TP
.B POSTGRES_DB
PostgreSQL database name
.RS
Type: String
Default: clusterdb
Used by: postgres-db-deployment.yaml
.RE
.TP
.B POSTGRES_USER
PostgreSQL database user
.RS
Type: String
Default: clusteruser
Used by: postgres-db-deployment.yaml
.RE
.TP
.B POSTGRES_PASSWORD
PostgreSQL database password
.RS
Type: String
Security: Must be kept secret
Used by: postgres-db-deployment.yaml
.RE
.TP
.B PGADMIN_DEFAULT_EMAIL
pgAdmin default administrator email
.RS
Type: Email
Used by: pgadmin-deployment.yaml
.RE
.TP
.B PGADMIN_DEFAULT_PASSWORD
pgAdmin default administrator password
.RS
Type: String
Security: Must be kept be secret
Used by: pgadmin-deployment.yaml
.RE
.SH MONITORING VARIABLES
.TP
.B LOG_LEVEL
Application logging verbosity level
.RS
Type: String
Values: DEBUG, INFO, WARNING, ERROR, CRITICAL
Default: INFO
Used by: bootstrap_app.py
.RE
.TP
.B AUDIT_LOG_FILE
Path to audit log file
.RS
Type: File path
Default: logs/audit.log
Used by: bootstrap_app.py
.RE
.TP
.B SERVER_LOG_FILE
Path to server log file
.RS
Type: File path
Default: server.log
Used by: start_https.sh
.RE
.SH DEPLOYMENT VARIABLES
.TP
.B DEPLOY_ENV
Deployment environment identifier
.RS
Type: String
Values: dev, staging, prod
Default: prod
Used by: deployment scripts
.RE
.TP
.B BACKUP_DIR
Backup directory path
.RS
Type: File path
Default: /opt/cluster-backups
Used by: restore_backup.sh
.RE
.TP
.B CONFIG_DIR
Configuration directory path
.RS
Type: File path
Default: /etc/cluster-config
Used by: utility scripts
.RE
.SH SECURITY VARIABLES
.TP
.B SSL_CERT_FILE
Path to SSL certificate file
.RS
Type: File path
Default: ssl/cert.pem
Auto-generated by bootstrap_app.py
.RE
.TP
.B SSL_KEY_FILE
Path to SSL private key file
.RS
Type: File path
Default: ssl/key.pem
Auto-generated by bootstrap_app.py
.RE
.TP
.B CA_CERT_FILE
Path to Certificate Authority certificate
.RS
Type: File path
Default: ca.crt
Used by: create_ca.sh
.RE
.SH SETTING VARIABLES
.SS Global Environment File
Create /etc/cluster-config/env.sh with all variables:
.RS
.nf
#!/bin/bash
export ENABLE_HTTPS=true
export HTTPS_PORT=8443
export KUBECONFIG=/etc/kubernetes/admin.conf
export DOCKER_REGISTRY=registry.local:5000
# ... other variables
.fi
.RE
.SS Script-Specific Variables
.TP
Per-Script Configuration
Each script can override variables as needed
.TP
Runtime Override
Command-line variables override environment settings
.SH VALIDATION
.TP
Required Variables
Scripts validate presence of critical variables
.TP
Type Checking
Variables are validated for correct types and formats
.TP
Security Scanning
Sensitive variables are checked for exposure risks
.SH EXAMPLES
.TP
Set basic application variables:
.B export ENABLE_HTTPS=true HTTPS_PORT=8443
.TP
Configure Kubernetes access:
.B export KUBECONFIG=/etc/kubernetes/admin.conf
.TP
Setup Docker registry:
.B export DOCKER_REGISTRY=registry.local:5000
.TP
Configure NVIDIA access:
.B export NGC_API_KEY=your-api-key-here
.SH FILES
.TP
.B /etc/cluster-config/env.sh
Global environment configuration
.TP
.B ~/.cluster-env
User-specific environment overrides
.TP
.B .env.local
Local development environment
.SH SEE ALSO
.BR bootstrap_app.py (1),
.BR env.sh (1),
.BR k3s-server.sh (1)